[gd_scene format=3 uid="uid://drr7hq8vxf7td"]

[ext_resource type="Script" uid="uid://k386x5vabvka" path="res://Scripts/tile_map.gd" id="1_7yui6"]
[ext_resource type="PackedScene" uid="uid://cvh4be0iakbb8" path="res://Scenes/player.tscn" id="2_go701"]
[ext_resource type="Texture2D" uid="uid://56r8p83th7w7" path="res://test_tileset.png" id="3_5ukr8"]
[ext_resource type="Script" uid="uid://bb443gcahs5cc" path="res://Scripts/player_camera.gd" id="5_5v1tr"]
[ext_resource type="PackedScene" uid="uid://lx7i37jmv8dj" path="res://Scenes/UI/night_sim_hud.tscn" id="5_fo5ed"]
[ext_resource type="Script" uid="uid://cxwd6ervjdlqw" path="res://Scripts/hud.gd" id="5_k7acu"]
[ext_resource type="Script" uid="uid://b1h0f1u4onopf" path="res://Scenes/UI/night_sim_hud.gd" id="6_5ukr8"]
[ext_resource type="Shader" uid="uid://f3sp32cviu0" path="res://Scenes/world.gdshader" id="10_0fj1v"]
[ext_resource type="PackedScene" uid="uid://d2xmikhqsgk1r" path="res://Scenes/customer.tscn" id="10_ikia7"]
[ext_resource type="Script" uid="uid://diitvq7xtv5si" path="res://Scripts/walls.gd" id="11_7yui6"]
[ext_resource type="PackedScene" uid="uid://cgu38iml7a5lr" path="res://Scenes/door.tscn" id="11_ikia7"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_ikia7"]
texture = ExtResource("3_5ukr8")
texture_region_size = Vector2i(112, 128)
0:0/0 = 0
1:0/0 = 0

[sub_resource type="TileSet" id="TileSet_5v1tr"]
tile_shape = 1
tile_layout = 5
tile_size = Vector2i(112, 64)
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_ikia7")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ikia7"]
shader = ExtResource("10_0fj1v")
shader_parameter/horizontalMovement = 0.1
shader_parameter/verticalMovement = 0.1
shader_parameter/frequencyStar = 0.1
shader_parameter/sizeStar = 100.0
shader_parameter/brightnessStar = 3.0
shader_parameter/shineFrequencyStar = 10.0
shader_parameter/transparencyStar = 0.0
shader_parameter/starIterations = 3
shader_parameter/frequencyBgStar = 0.996
shader_parameter/shineFrequencyBgStar = 1.0
shader_parameter/transparencyBgStar = 0.0
shader_parameter/colorBackground = Color(0.05, 0.04, 0.2, 1)
shader_parameter/transparencyBackground = 0.0
shader_parameter/seed = 0.0

[node name="World" type="Node2D" unique_id=1724012538]
metadata/_edit_horizontal_guides_ = [832.0]

[node name="TileMap" type="Node2D" parent="." unique_id=1446174342]
y_sort_enabled = true
script = ExtResource("1_7yui6")

[node name="TileSet" type="TileMapLayer" parent="TileMap" unique_id=1251975554]
z_index = -1
texture_filter = 1
tile_set = SubResource("TileSet_5v1tr")

[node name="Player" parent="." unique_id=1672057571 instance=ExtResource("2_go701")]
z_index = 1
position = Vector2(-55, -64)

[node name="PlayerCamera" type="Camera2D" parent="." unique_id=1089541567]
script = ExtResource("5_5v1tr")

[node name="HUD" type="CanvasLayer" parent="." unique_id=723625578]
script = ExtResource("5_k7acu")

[node name="NightSimHUD" parent="HUD" unique_id=2080593569 instance=ExtResource("5_fo5ed")]
script = ExtResource("6_5ukr8")

[node name="CanvasLayer" type="CanvasLayer" parent="." unique_id=1707965239]
layer = -1

[node name="Background" type="ColorRect" parent="CanvasLayer" unique_id=391615957]
material = SubResource("ShaderMaterial_ikia7")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Customer" parent="." unique_id=1908784811 instance=ExtResource("10_ikia7")]
position = Vector2(165, 128)

[node name="Door" parent="." unique_id=1932543553 instance=ExtResource("11_ikia7")]
position = Vector2(-440, -448)

[node name="Walls" type="Node2D" parent="." unique_id=1868779388]
script = ExtResource("11_7yui6")

[node name="TOP" type="StaticBody2D" parent="Walls" unique_id=1235188867]
position = Vector2(-554, -373)
collision_layer = 3
collision_mask = 3
metadata/_edit_group_ = true

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Walls/TOP" unique_id=97227095]
polygon = PackedVector2Array(-511, 342, 609, -297, 552, -357, -594, 282)

[node name="RIGHT" type="StaticBody2D" parent="Walls" unique_id=742304226]
position = Vector2(626, -381)
collision_layer = 3
collision_mask = 3
metadata/_edit_group_ = true

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Walls/RIGHT" unique_id=1382977775]
polygon = PackedVector2Array(-571, -290, 496, 320, 558, 278, -547, -341)

[node name="LEFT" type="StaticBody2D" parent="Walls" unique_id=1936806467]
position = Vector2(-520, 311)
collision_layer = 3
collision_mask = 3
metadata/_edit_group_ = true

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Walls/LEFT" unique_id=206394693]
polygon = PackedVector2Array(-571, -290, 496, 320, 524, 270, -547, -341)

[node name="BOTTOM" type="StaticBody2D" parent="Walls" unique_id=100133353]
position = Vector2(569, 296)
collision_layer = 3
collision_mask = 3
metadata/_edit_group_ = true

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Walls/BOTTOM" unique_id=1656554378]
polygon = PackedVector2Array(-511, 342, 609, -297, 552, -357, -574, 286)
